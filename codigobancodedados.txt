
drop database clinicordb;
create database clinicordb;
use clinicordb;



CREATE TABLE Usuarios (
    UsuarioID INT PRIMARY KEY auto_increment,
     Email VARCHAR(100),
    Senha VARCHAR(100),
    Tipo VARCHAR(20),
    DataRegistro DATE,
    CodigoRecuperaSenha varchar(8) 
);
CREATE TABLE PlanosSaude (
    PlanoSaudeID INT PRIMARY KEY auto_increment,
    NomePlano VARCHAR(100),
    Cobertura VARCHAR(255),
   UsuarioID INT not null,
FOREIGN KEY (UsuarioID) REFERENCES Usuarios(UsuarioID)
);


CREATE TABLE Funcionarios (
    FuncionarioID INT PRIMARY KEY auto_increment,
    Nome VARCHAR(50) not null,
    Cargo VARCHAR(50) not null,
    Setor VARCHAR(50) not null,
    DataContratacao DATE not null,
    Salario DECIMAL(10,2) not null,
    UsuarioID INT not null,
    FOREIGN KEY (UsuarioID) REFERENCES Usuarios(UsuarioID)
);
CREATE TABLE Pacientes (
    PacienteID INT PRIMARY KEY auto_increment,
    Nome VARCHAR(50) not null,
    DataNascimento DATE not null,
    Genero VARCHAR(10) not null,
    Endereco VARCHAR(100) not null,
    NumeroTelefone VARCHAR(15) not null,
    UsuarioID INT not null,
    FOREIGN KEY (UsuarioID) REFERENCES Usuarios(UsuarioID)
    );



CREATE TABLE Consultas (
    ConsultaID INT PRIMARY KEY auto_increment,
    DataHora DATETIME not null,
    FuncionarioID INT not null,
    PacienteID INT not null,
    Status VARCHAR(20),
    FOREIGN KEY (FuncionarioID) REFERENCES Funcionarios(FuncionarioID),
    FOREIGN KEY (PacienteID) REFERENCES Pacientes(PacienteID)
);


CREATE TABLE HistoricoConsultas (
    HistoricoID INT PRIMARY KEY ,
    ConsultaID INT,
    Diagnostico TEXT,
    ReceitaMedica TEXT,
    Observacoes TEXT,
    FOREIGN KEY (ConsultaID) REFERENCES Consultas(ConsultaID)
);